// Workbox caching
importScripts(
  "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-sw.js",
);
const { precacheAndRoute } = workbox.precaching;

precacheAndRoute([{"revision":"f8fc1cc37e1226392cc0cc4c6068cf66","url":"download-FVXMIYZ4.svg"},{"revision":"0c634655474d213fa0ee50ccee98d651","url":"erDiagram-Q2GNP2WA-4FCGH3HU.js"},{"revision":"299ba1cbbe1283c67f1ac924319c0f03","url":"chunk-MNSEDVPN.js"},{"revision":"fc94531d3f95345d3df40d358c269fd0","url":"chunk-RKLTPE72.js"},{"revision":"dd2e4d5f5b3f4edb149fd3499f46a991","url":"diagram-QEK2KX5R-LBQF7UZ5.js"},{"revision":"c902805fbdfaa0f16828ddb8318f474e","url":"index.js"},{"revision":"299ddb01bcee73f853049f4ca36e9dc8","url":"printer-B7RMPYZC.svg"},{"revision":"6b352c8234986802e30f57b4a173db65","url":"bug-36UGMUXT.svg"},{"revision":"a1d51bdd58ebd6442972f75b38b7dfbd","url":"chunk-4BK4DWHS.js"},{"revision":"f1a3f32638b367304fd69fc8aa062ddb","url":"chunk-HGNGPG4D.js"},{"revision":"3c7de2371f25e2a140d1ac4e0048c739","url":"pie-7BOR55EZ-NAP5UMJ5.js"},{"revision":"64d2b902cac5067f63b8e80fafcf09e7","url":"timeline-definition-IT6M3QCI-5ENRHJK6.js"},{"revision":"48b00b2079cdbaced5818d308f4ec618","url":"chunk-FFNH7GCV.js"},{"revision":"cf7840ebb364ee0b00c17a2725030738","url":"info-NVLQJR56-43NVN3CU.js"},{"revision":"2694687077344bc31a1968ce3329660b","url":"list-LK7OCHR7.svg"},{"revision":"7cdfed241e2edb7e7ed37eaaf9bae94a","url":"favicon.ico"},{"revision":"c8a9c1133a372412e760d544244cc67a","url":"chunk-W6QOOEOX.js"},{"revision":"5f5adcea95adfb847fb22f60fd693ad9","url":"chunk-44T5SP7F.js"},{"revision":"e09042ae9ae17a179da8fd33cf6280e0","url":"dagre-6UL2VRFP-ZDWNJIXE.js"},{"revision":"ef24d991458a345d9557505da0592cf7","url":"flowDiagram-NV44I4VS-TE7A37ZR.js"},{"revision":"b8dfec7acb0690d9d9ec697f948236c4","url":"chunk-IPLMSLEG.js"},{"revision":"08269a356a09abd6d90f3b28a6bfdf80","url":"journeyDiagram-XKPGCS4Q-KQJA4DCY.js"},{"revision":"5b6b5c3fb1aeac9f4a6505abed0e58c8","url":"classDiagram-v2-WZHVMYZB-UQ7NZRLF.js"},{"revision":"b399e36fdd1b4597c9c5036c6a4869f8","url":"magic-wand-JQJ6EKRO.svg"},{"revision":"5fc4b4aee74a33d2bf6ae7fdcaa33e33","url":"chunk-DY3N5KYM.js"},{"revision":"080d462119b8e1838481a7e3ceef388c","url":"c4Diagram-YG6GDRKO-WWQNF3AA.js"},{"revision":"1e3123ed2962cd1cd91616e8114d9a5c","url":"chunk-ZRRBPBIX.js"},{"revision":"de7d1d26a5b0c7cb4feedb5fe7f0431e","url":"chunk-JH766ED7.js"},{"revision":"d26a9edb2928bbeba1749f454aab95d3","url":"pencil-X3ZMY3QU.svg"},{"revision":"41be43627587fa71a315c9a1d2565283","url":"spell-check-V6QYTGNT.svg"},{"revision":"17d35d48adba4d896c4600c4c69d9acc","url":"cose-bilkent-S5V4N54A-POJRPVCQ.js"},{"revision":"9b03b347397d6a6284060c2cd4ae11a5","url":"chunk-JOIT3OGZ.js"},{"revision":"a88e74598e262ed3ae87245f37a2f863","url":"chunk-W2UJOOQ7.js"},{"revision":"7665092453f7b45c2782db5f16e6ce5c","url":"exit-up-GH6BPN2X.svg"},{"revision":"91ef0a417f4f229cb80c722d030c591f","url":"clock-SRGT5GTL.svg"},{"revision":"c6231193def152305f6b6da88ffe6348","url":"version"},{"revision":"995d9d58a403b98a9e0c6db676645d0e","url":"radar-NHE76QYJ-FNHOD4R5.js"},{"revision":"692ed407e6a8c60052abb197637c8f5f","url":"gitGraph-F6HP7TQM-C42WGDOQ.js"},{"revision":"be1e81021820190d5ce31b90f6fb248d","url":"ganttDiagram-JELNMOA3-ZEUOFYJ2.js"},{"revision":"fb7631743aa86cb95256357626185680","url":"sequenceDiagram-WL72ISMW-6F5DDG3B.js"},{"revision":"abef7b4a2eb95c594f45063c3fe372eb","url":"trash-RDL437QG.svg"},{"revision":"9946739760e736afc85554403d4bef62","url":"chunk-T5KD3OBV.js"},{"revision":"b97bd06b7a0b2d292ee9a0ab249366b1","url":"chunk-BGEFB44P.js"},{"revision":"bd14b5391573066e3378d0f3ceacb289","url":"requirementDiagram-UZGBJVZJ-KPGITPOF.js"},{"revision":"d5c1bed2ae31ff3f47243b0738030bd4","url":"index.css"},{"revision":"4689d86ea3c1dde55bea5a0cafeff7a6","url":"gitGraphDiagram-NY62KEGX-OIUA36IA.js"},{"revision":"08cc87504b693a32d717aaaf13e414a0","url":"enter-down-6TVO6OFR.svg"},{"revision":"49c7341cae9ce63f00aff26444ca14ab","url":"chunk-Y4YRJLBO.js"},{"revision":"c85166ce7ba7232cce2b12a1e89b216b","url":"stateDiagram-v2-4FDKWEC3-AFLM3KAR.js"},{"revision":"09723471525633c76ca24522b8cdf1d7","url":"pieDiagram-ADFJNKIX-3S6U5J5L.js"},{"revision":"35f874042b08b2c79308cdcdc8024a0e","url":"chunk-DPYVL4NA.js"},{"revision":"9d81c0647939f1a56140f67ebece92e2","url":"chunk-EQENVWAF.js"},{"revision":"3b5bb9c04e29f484a8382e97d7fa7dad","url":"chunk-AFNAUADR.js"},{"revision":"dddc7fab14d9cd890f71be0050856c9c","url":"chunk-V35JAFZT.js"},{"revision":"a69f752fafc2a5f161dbc1c851d4f17b","url":"envelope-Z2VRVSLR.svg"},{"revision":"daf2264c7978c315325ea80e66c3738f","url":"diagram-PSM6KHXK-CW3T6ZSM.js"},{"revision":"b000a324922cc09739aba29bda7e396a","url":"chunk-RZDB7PMI.js"},{"revision":"ba84bb8faf22829df09b62ec5321c01d","url":"chunk-QEBBEJQ2.js"},{"revision":"dfed7fc20ad2983872a2f369e484e60c","url":"architectureDiagram-VXUJARFQ-FHSRVFCI.js"},{"revision":"4e1ab5abca803d8371db0bac365fdf93","url":"lighter-UBEI67LL.svg"},{"revision":"01868446e0239a46349316478e333c3a","url":"kanban-definition-3W4ZIXB7-34OSQFCM.js"},{"revision":"9800058c3bd5cd3cbaa5fa23c314d33a","url":"infoDiagram-WHAUD3N6-KACMZVZY.js"},{"revision":"f1a1c9d6730045303ea5527199cfe101","url":"chunk-7MFX7BTG.js"},{"revision":"1c74f8e5f212764756b46b728d31a97f","url":"picture-3TDOSVS3.svg"},{"revision":"5c306ab449e1fadeaa63c6069c72e266","url":"chunk-MKC52KE3.js"},{"revision":"e908d562549cd3ea211422cf1f87efd6","url":"chunk-3GCR3IWB.js"},{"revision":"df17afc918e96e7059987cf95ea717a0","url":"chunk-R77GKUCO.js"},{"revision":"fd02fe115943662aa6a6581ab31ce38d","url":"frame-expand-CX6CNP53.svg"},{"revision":"5789463ca3d9ff312251de7c9737baa0","url":"chunk-OEPJUHFZ.js"},{"revision":"ada1dfcb6b368aa190721d9cedfbffcc","url":"mindmap-definition-VGOIOE7T-5OHPLPS5.js"},{"revision":"dcc164d70bca2e05f01c326ea1298cd0","url":"index.html"},{"revision":"126653c706df1e5655be880ddc02e164","url":"page-break-BLVP5QBQ.svg"},{"revision":"4b755613ca7aaacafda5f1a0d54e867f","url":"chunk-PNCPETUH.js"},{"revision":"6f97c69796ca2d5b90babc3ee4a13279","url":"diagram-S2PKOQOG-ISSUML3N.js"},{"revision":"4cca3f4a41a698c161df4e5430876cca","url":"packet-BFZMPI3H-67VTK577.js"},{"revision":"868212daa401c29d52bc5089873ab779","url":"architecture-U656AL7Q-3OV67J7X.js"},{"revision":"5566b98d80e893917f8eee28627c6422","url":"chunk-CY6ESHFD.js"},{"revision":"715ea2f9ed9c32e912d10f1f8cfd1333","url":"checkmark-circle-JQ7ADSUI.svg"},{"revision":"5b6b5c3fb1aeac9f4a6505abed0e58c8","url":"classDiagram-2ON5EDUG-KR74FMJR.js"},{"revision":"b9816a8779946abd6884c8d0835aab1a","url":"arrow-right-circle-2Q6EHM2H.svg"},{"revision":"22f7a1a60f480ce4fdc9235aa4e2eb08","url":"sankeyDiagram-TZEHDZUN-YQYTVQFG.js"},{"revision":"77ae12d2422cd4e24de14701e0ba0707","url":"chunk-X4J24YEN.js"},{"revision":"f86fe338ae1a2be89b824e62681d1ae1","url":"xychartDiagram-PRI3JC2R-DG3RGLNG.js"},{"revision":"2c0a2439355a9bb1ca4ea283caf894ed","url":"manifest.json"},{"revision":"4c7ff8172fa847518054f0690d286798","url":"chunk-XDPYRWAS.js"},{"revision":"f8ccf4e54444f36e82772d240e914daa","url":"chunk-MBS5FVM4.js"},{"revision":"975394cc9f08654ca935ae3759e35673","url":"katex-CILZ2AXT.js"},{"revision":"3ce2509712df0cd63aa28b3bedf3ffe6","url":"leaf-CGBE7XAJ.svg"},{"revision":"4ebf44d5e83fd0901ccff852a65f7e5c","url":"quadrantDiagram-AYHSOK5B-IJOHJC2Y.js"},{"revision":"ce0ebba0ff5335365e470ccffb5b07cb","url":"blockDiagram-VD42YOAC-YMPWMOBQ.js"},{"revision":"71ac4296f0d685b54ad2bd71357d196e","url":"chunk-7NP4XUWF.js"},{"revision":"e0eed2a60a3986c26e533e32958e341c","url":"chunk-IK46GUPQ.js"},{"revision":"543f2c9bf80a58bbdd55721b15fe200a","url":"chunk-C5V5A4EQ.js"},{"revision":"6ef13784a1615c0d70f81ec5c98064cc","url":"stateDiagram-FKZM4ZOC-55XEEZVB.js"},{"revision":"1eccb57fd8613bb74b8394400b7b1b1f","url":"rocket-AIY2RJJS.svg"},{"revision":"d1ad6eb7121270f0944dfe0f3fcc151c","url":"chunk-VN3PZ2GY.js"},{"revision":"8f5851b2acab77ab6f7a5479c2847037","url":"chunk-THOPA6SY.js"},{"revision":"642881591601125261f78f3ad5a52c32","url":"cloud-sync-F3RLGHML.svg"},{"revision":"715ae4332e58c428c1cfe22d5b0338b2","url":"chunk-OYA272LE.js"},{"revision":"b15932f9b8255f96ce1f1c247ca80319","url":"treemap-KMMF4GRG-D5TO5BW4.js"},{"revision":"97f57b5e52990bf7f288569b47d835b0","url":"images/screenshots/screenshot-1280x720.png"},{"revision":"eee036a57c9667b56f414cfa2e843bd3","url":"images/screenshots/screenshot-375x667.png"},{"revision":"2f95a518fbfc169e32fd5fb7a5b063fd","url":"images/icons/icon-192x192.png"},{"revision":"77b08750ba54d3a8f21f331d04530637","url":"images/icons/icon-144x144.png"},{"revision":"79e59607337b1e6a34e0935965ad4d21","url":"images/icons/maskable_icon.png"},{"revision":"e70a2704695d7026ab6fe403f4604867","url":"images/icons/icon-72x72.png"},{"revision":"87029203db3903aab4be829b030b3514","url":"images/icons/icon-384x384.png"},{"revision":"b6282f083079caa42571d8976ab941e4","url":"images/icons/apple-icon-180.png"},{"revision":"e90e83fb498775a8d309c3229ed5c318","url":"images/icons/manifest-icon-512.maskable.png"},{"revision":"ad2869f40002d4f268f6b60a0c115136","url":"images/icons/icon-512x512.png"},{"revision":"0bfc17b6ea552774646836236d7e5954","url":"images/icons/icon-96x96.png"},{"revision":"84cb614c066d965f784c2ed810dc31e1","url":"images/icons/icon-152x152.png"},{"revision":"578dee69d9784d1ddccff8a543727bec","url":"images/icons/manifest-icon-192.maskable.png"},{"revision":"59b2a5f4e0884d7c2d4e2324e3727ecc","url":"images/icons/icon-128x128.png"}]);
// Workbox caching

// Custom service worker code
const checkForNewerVersion = (currentVersion) => {
  const intervalChecker = setInterval(async () => {
    try {
      const res = await fetch(
        "https://raw.githubusercontent.com/teomrd/miropad/gh-pages/version",
        {
          cache: "no-cache",
        },
      );
      const version = await res.text();
      if (currentVersion !== version.trim()) {
        self.registration.showNotification("✍️ MiroPad has been updated", {
          body: `MiroPad ${version} is available, refresh to update!`,
        });
        clearInterval(intervalChecker);
      }
    } catch (error) {
      self.registration.showNotification("✍️ MiroPad Error", {
        body: error.message,
      });
    }
  }, 5000);
};

self.addEventListener("install", () => {
  const currentVersion = new URL(location).searchParams.get("v");
  checkForNewerVersion(currentVersion.trim());
});
// Custom service worker code
